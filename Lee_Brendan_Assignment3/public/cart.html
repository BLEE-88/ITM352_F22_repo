<!DOCTYPE html>
<script src="./functions.js"></script>
<script>
  var products_data;
        loadJSON('get_products_data', function (response) {
            // Parsing JSON string into object
            products_data = JSON.parse(response);
        });
        loadJSON('get_cart', function (response) {
            // Parsing JSON string into object
            shopping_cart = JSON.parse(response);
        });
</script>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  
</body>
<h2>You have in your shopping cart:</h2>
<table border>
    <th>Item</th>
    <th>Quantity</th>
    <th>Price</th>
    <script>
        for (product_key in products_data) {
            for (i = 0; i < products_data[product_key].length; i++) {
                if (typeof shopping_cart[product_key] == 'undefined') continue;
                qty = shopping_cart[product_key][i];
                if (qty > 0) {
                    document.write(`<tr><td>${products_data[product_key][i].name}</td><td>${qty}</td><td>${products_data[product_key][i].price}</td><tr>`);
                }
            }
        }
    </script>
</table>
</html>